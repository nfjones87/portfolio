/*! https://github.com/niclasgelin */
$.fn.lazyload = function(options) {
  var methods = {
    init: function(element) {
      this.elements = element;
      this.window = $(window);
      this.options = $.extend({ duration: "fast" }, options);
      this.setListener();
    },
    setListener: function() {
      this.window.on("load scroll resize", function() {
        methods.checkVisibility();
      });
    },
    checkVisibility: function() {
      this.elements.each(function() {
        var current = $(this);
        if (current.offset().top < (methods.window.height() + methods.window.scrollTop())) {
          methods.updateElement(current);
        }
      });
    },
    updateElement: function(current) {
      var updated = $("<img />");
      updated.attr("src", current.data("src"));
      updated.fadeIn(this.options.duration);
      current.replaceWith(updated);
    }
  };
  methods.init(this);
  return this;
};

/*!
 * Bootstrap.js by @fat & @mdo
 * Copyright 2012 Twitter, Inc.
 * http://www.apache.org/licenses/LICENSE-2.0.txt
 */
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.chrome||e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);

/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */

// t: current time, b: begInnIng value, c: change In value, d: duration
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h.i[\'1a\']=h.i[\'z\'];h.O(h.i,{y:\'D\',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});',62,74,'||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce'.split('|'),0,{}))

/*! jquery.nicescroll 3.1.2 InuYaksa*2012 MIT http://areaaperta.com/nicescroll */
;(function(i){var c=false,l=false,g=5000,d=2000,b=function(){var p=document.getElementsByTagName("script"),p=p[p.length-1].src.split("?")[0];return p.split("/").length>0?p.split("/").slice(0,-1).join("/")+"/":""}(),h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false,f=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||false,k=false,y=function(){if(k){return k}var t=document.createElement("DIV"),v={haspointerlock:"pointerLockElement" in document||"mozPointerLockElement" in document||"webkitPointerLockElement" in document};v.isopera="opera" in window;v.isopera12=v.isopera&&"getUserMedia" in navigator;v.isie="all" in document&&"attachEvent" in t&&!v.isopera;v.isieold=v.isie&&!("msInterpolationMode" in t.style);v.isie7=v.isie&&!v.isieold&&(!("documentMode" in document)||document.documentMode==7);v.isie8=v.isie&&"documentMode" in document&&document.documentMode==8;v.isie9=v.isie&&"performance" in window&&document.documentMode>=9;v.isie10=v.isie&&"performance" in window&&document.documentMode>=10;v.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(v.isie9mobile){v.isie9=false}v.isie7mobile=!v.isie9mobile&&v.isie7&&/iemobile/i.test(navigator.userAgent);v.ismozilla="MozAppearance" in t.style;v.iswebkit="WebkitAppearance" in t.style;v.ischrome="chrome" in window;v.ischrome22=v.ischrome&&v.haspointerlock;v.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window;v.hasmstouch=window.navigator.msPointerEnabled||false;v.ismac=/^mac$/i.test(navigator.platform);v.isios=v.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);v.isios4=v.isios&&!("seal" in Object);v.isandroid=/android/i.test(navigator.userAgent);v.trstyle=false;v.hastransform=false;v.hastranslate3d=false;v.transitionstyle=false;v.hastransition=false;v.transitionend=false;for(var r=["transform","msTransform","webkitTransform","MozTransform","OTransform"],q=0;q<r.length;q++){if(typeof t.style[r[q]]!="undefined"){v.trstyle=r[q];break}}v.hastransform=v.trstyle!=false;if(v.hastransform){t.style[v.trstyle]="translate3d(1px,2px,3px)",v.hastranslate3d=/translate3d/.test(t.style[v.trstyle])}v.transitionstyle=false;v.prefixstyle="";v.transitionend=false;for(var r="transition,webkitTransition,MozTransition,OTransition,OTransition,msTransition,KhtmlTransition".split(","),p=",-webkit-,-moz-,-o-,-o,-ms-,-khtml-".split(","),u="transitionend,webkitTransitionEnd,transitionend,otransitionend,oTransitionEnd,msTransitionEnd,KhtmlTransitionEnd".split(","),q=0;q<r.length;q++){if(r[q] in t.style){v.transitionstyle=r[q];v.prefixstyle=p[q];v.transitionend=u[q];break}}v.hastransition=v.transitionstyle;a:{r=["-moz-grab","-webkit-grab","grab"];if(v.ischrome&&!v.ischrome22||v.isie){r=[]}for(q=0;q<r.length;q++){if(p=r[q],t.style.cursor=p,t.style.cursor==p){r=p;break a}}r="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}v.cursorgrabvalue=r;v.hasmousecapture="setCapture" in t;return k=v},s=function(r,w){function u(A,B,z){B=A.css(B);A=parseFloat(B);return isNaN(A)?(A=e[B]||0,z=A==3?z?x.win.outerHeight()-x.win.innerHeight():x.win.outerWidth()-x.win.innerWidth():1,x.isie8&&A&&(A+=1),z?A:0):A}function t(C,D){var z=0,A=0,B=1;"wheelDeltaY" in C?(B=x.opt.mousescrollstep/48,z=Math.floor(C.wheelDeltaX*B),A=Math.floor(C.wheelDeltaY*B),D&&z==0&&A&&(z=A,A=0)):(B=C.detail?C.detail*-1:C.wheelDelta/40)&&(D?z=Math.floor(B*x.opt.mousescrollstep):A=Math.floor(B*x.opt.mousescrollstep));z&&(x.scrollmom&&x.scrollmom.stop(),x.lastdeltax+=z,x.synched("mousewheelx",function(){var E=x.lastdeltax;x.lastdeltax=0;x.rail.drag||x.doScrollLeftBy(E)}));A&&(x.scrollmom&&x.scrollmom.stop(),x.lastdeltay+=A,x.synched("mousewheely",function(){var E=x.lastdeltay;x.lastdeltay=0;x.rail.drag||x.doScrollBy(E)}))}var x=this;this.version="3.1.4";this.name="nicescroll";this.me=w;this.opt={doc:i("body"),win:false,zindex:9000,cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#2d2d2d",cursorwidth:"8px",cursorborder:"0px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false};this.opt.snapbackspeed=80;if(r){for(var p in x.opt){typeof r[p]!="undefined"&&(x.opt[p]=r[p])}}this.iddoc=(this.doc=x.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(x.opt.win?x.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=x.opt.win!==false;this.win=x.opt.win||(this.ispage?i(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?i(window):this.win;this.body=i("body");this.iframe=this.isfixed=this.viewport=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=false;this.canshowonmouseevent=x.opt.autohidemode!="scroll";this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observer=this.scrollmom=this.scrollrunning=false;do{this.id="ascrail"+d++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.cursorfreezed=this.cursor=this.rail=false;this.visibility=true;this.hidden=this.locked=false;this.cursoractive=true;this.nativescrollingarea=false;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=y();var v=i.extend({},this.detected);this.ishwscroll=(this.canhwscroll=v.hastransform&&x.opt.hwacceleration)&&x.haswrapper;this.istouchcapable=false;if(v.cantouch&&v.ischrome&&!v.isios&&!v.isandroid){this.istouchcapable=true,v.cantouch=false}if(v.cantouch&&v.ismozilla&&!v.isios){this.istouchcapable=true,v.cantouch=false}if(!x.opt.enablemouselockapi){v.hasmousecapture=false,v.haspointerlock=false}this.delayed=function(D,E,A,B){var C=x.delaylist[D],z=(new Date).getTime();if(!B&&C&&C.tt){return false}C&&C.tt&&clearTimeout(C.tt);if(C&&C.last+A>z&&!C.tt){x.delaylist[D]={last:z+A,tt:setTimeout(function(){x.delaylist[D].tt=0;E.call()},A)}}else{if(!C||!C.tt){x.delaylist[D]={last:z,tt:0},setTimeout(function(){E.call()},0)}}};this.synched=function(z,A){x.synclist[z]=A;(function(){if(!x.onsync){h(function(){x.onsync=false;for(z in x.synclist){var B=x.synclist[z];B&&B.call(x);x.synclist[z]=false}}),x.onsync=true}})();return z};this.unsynched=function(z){x.synclist[z]&&(x.synclist[z]=false)};this.css=function(A,B){for(var z in B){x.saved.css.push([A,z,A.css(z)]),A.css(z,B[z])}};this.scrollTop=function(z){return typeof z=="undefined"?x.getScrollTop():x.setScrollTop(z)};this.scrollLeft=function(z){return typeof z=="undefined"?x.getScrollLeft():x.setScrollLeft(z)};BezierClass=function(z,F,C,D,E,B,A){this.st=z;this.ed=F;this.spd=C;this.p1=D||0;this.p2=E||1;this.p3=B||0;this.p4=A||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(z){return 3*z*z*(1-z)},B3:function(z){return 3*z*(1-z)*(1-z)},B4:function(z){return(1-z)*(1-z)*(1-z)},getNow:function(){var z=1-((new Date).getTime()-this.ts)/this.spd,A=this.B2(z)+this.B3(z)+this.B4(z);return z<0?this.ed:this.st+Math.round(this.df*A)},update:function(z,A){this.st=this.getNow();this.ed=z;this.spd=A;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};v.hastranslate3d&&v.isios&&this.doc.css("-webkit-backface-visibility","hidden");var q=function(){var z=x.doc.css(v.trstyle);return z&&z.substr(0,6)=="matrix"?z.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):false};this.getScrollTop=function(z){if(!z){if(z=q()){return z.length==16?-z[13]:-z[5]}if(x.timerscroll&&x.timerscroll.bz){return x.timerscroll.bz.getNow()}}return x.doc.translate.y};this.getScrollLeft=function(z){if(!z){if(z=q()){return z.length==16?-z[12]:-z[4]}if(x.timerscroll&&x.timerscroll.bh){return x.timerscroll.bh.getNow()}}return x.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(z){var A=document.createEvent("UIEvents");A.initUIEvent("scroll",false,true,window,1);z.dispatchEvent(A)}:document.fireEvent?function(z){var A=document.createEventObject();z.fireEvent("onscroll");A.cancelBubble=true}:function(){};v.hastranslate3d&&x.opt.enabletranslate3d?(this.setScrollTop=function(z,A){x.doc.translate.y=z;x.doc.translate.ty=z*-1+"px";x.doc.css(v.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)");A||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(z,A){x.doc.translate.x=z;x.doc.translate.tx=z*-1+"px";x.doc.css(v.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)");A||x.notifyScrollEvent(x.win[0])}):(this.setScrollTop=function(z,A){x.doc.translate.y=z;x.doc.translate.ty=z*-1+"px";x.doc.css(v.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")");A||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(z,A){x.doc.translate.x=z;x.doc.translate.tx=z*-1+"px";x.doc.css(v.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")");A||x.notifyScrollEvent(x.win[0])})}else{this.getScrollTop=function(){return x.docscroll.scrollTop()},this.setScrollTop=function(z){return x.docscroll.scrollTop(z)},this.getScrollLeft=function(){return x.docscroll.scrollLeft()},this.setScrollLeft=function(z){return x.docscroll.scrollLeft(z)}}this.getTarget=function(z){return !z?false:z.target?z.target:z.srcElement?z.srcElement:false};this.hasParent=function(z,B){if(!z){return false}for(var A=z.target||z.srcElement||z||false;A&&A.id!=B;){A=A.parentNode||false}return A!==false};var e={thin:1,medium:3,thick:5};this.getOffset=function(){if(x.isfixed){return{top:parseFloat(x.win.css("top")),left:parseFloat(x.win.css("left"))}}if(!x.viewport){return x.win.offset()}var z=x.win.offset(),A=x.viewport.offset();return{top:z.top-A.top+x.viewport.scrollTop(),left:z.left-A.left+x.viewport.scrollLeft()}};this.updateScrollBar=function(C){if(x.ishwscroll){x.rail.css({height:x.win.innerHeight()}),x.railh&&x.railh.css({width:x.win.innerWidth()})}else{var D=x.getOffset(),z=D.top,A=D.left;z+=u(x.win,"border-top-width",true);x.win.outerWidth();x.win.innerWidth();A+=x.rail.align?x.win.outerWidth()-u(x.win,"border-right-width")-x.rail.width:u(x.win,"border-left-width");var B=x.opt.railoffset;B&&(B.top&&(z+=B.top),x.rail.align&&B.left&&(A+=B.left));x.locked||x.rail.css({top:z,left:A,height:C?C.h:x.win.innerHeight()});x.zoom&&x.zoom.css({top:z+1,left:x.rail.align==1?A-20:A+x.rail.width+4});if(x.railh&&!x.locked){z=D.top,A=D.left,C=x.railh.align?z+u(x.win,"border-top-width",true)+x.win.innerHeight()-x.railh.height:z+u(x.win,"border-top-width",true),A+=u(x.win,"border-left-width"),x.railh.css({top:C,left:A,width:x.railh.width})}}};this.doRailClick=function(B,C,z){var A;!(x.rail.drag&&x.rail.drag.pt!=1)&&!x.locked&&!x.rail.drag&&(x.cancelScroll(),x.cancelEvent(B),C?(C=z?x.doScrollLeft:x.doScrollTop,A=z?(B.pageX-x.railh.offset().left-x.cursorwidth/2)*x.scrollratio.x:(B.pageY-x.rail.offset().top-x.cursorheight/2)*x.scrollratio.y,C(A)):(C=z?x.doScrollLeftBy:x.doScrollBy,A=z?x.scroll.x:x.scroll.y,B=z?B.pageX-x.railh.offset().left:B.pageY-x.rail.offset().top,z=z?x.view.w:x.view.h,A>=B?C(z):C(-z)))};x.hasanimationframe=h;x.hascancelanimationframe=f;x.hasanimationframe?x.hascancelanimationframe||(f=function(){x.cancelAnimationFrame=true}):(h=function(z){return setTimeout(z,16)},f=clearInterval);this.init=function(){x.saved.css=[];if(v.isie7mobile){return true}v.hasmstouch&&x.css(x.ispage?i("html"):x.win,{"-ms-touch-action":"none"});if(!x.ispage||!v.cantouch&&!v.isieold&&!v.isie9mobile){var I=x.docscroll;x.ispage&&(I=x.haswrapper?x.win:x.doc);v.isie9mobile||x.css(I,{"overflow-y":"hidden"});x.ispage&&v.isie7&&(x.doc[0].nodeName=="BODY"?x.css(i("html"),{"overflow-y":"hidden"}):x.doc[0].nodeName=="HTML"&&x.css(i("body"),{"overflow-y":"hidden"}));v.isios&&!x.ispage&&!x.haswrapper&&x.css(i("body"),{"-webkit-overflow-scrolling":"touch"});var J=i(document.createElement("div"));J.css({position:"relative",top:0,"float":"right",width:x.opt.cursorwidth,height:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius});J.hborder=parseFloat(J.outerHeight()-J.innerHeight());x.cursor=J;var H=i(document.createElement("div"));H.attr("id",x.id);var G,F,E=["left","right"],K;for(K in E){F=E[K],(G=x.opt.railpadding[F])?H.css("padding-"+F,G+"px"):x.opt.railpadding[F]=0}H.append(J);H.width=Math.max(parseFloat(x.opt.cursorwidth),J.outerWidth())+x.opt.railpadding.left+x.opt.railpadding.right;H.css({width:H.width+"px",zIndex:x.ispage?x.opt.zindex:x.opt.zindex+2,background:x.opt.background});H.visibility=true;H.scrollable=true;H.align=x.opt.railalign=="left"?0:1;x.rail=H;J=x.rail.drag=false;if(x.opt.boxzoom&&!x.ispage&&!v.isieold&&(J=document.createElement("div"),x.bind(J,"click",x.doZoom),x.zoom=i(J),x.zoom.css({cursor:"pointer","z-index":x.opt.zindex,backgroundImage:"url("+b+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),x.opt.dblclickzoom&&x.bind(x.win,"dblclick",x.doZoom),v.cantouch&&x.opt.gesturezoom)){x.ongesturezoom=function(A){A.scale>1.5&&x.doZoomIn(A);A.scale<0.8&&x.doZoomOut(A);return x.cancelEvent(A)},x.bind(x.win,"gestureend",x.ongesturezoom)}x.railh=false;if(x.opt.horizrailenabled){x.css(I,{"overflow-x":"hidden"});J=i(document.createElement("div"));J.css({position:"relative",top:0,height:x.opt.cursorwidth,width:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius});J.wborder=parseFloat(J.outerWidth()-J.innerWidth());x.cursorh=J;var D=i(document.createElement("div"));D.attr("id",x.id+"-hr");D.height=1+Math.max(parseFloat(x.opt.cursorwidth),J.outerHeight());D.css({height:D.height+"px",zIndex:x.ispage?x.opt.zindex:x.opt.zindex+2,background:x.opt.background});D.append(J);D.visibility=true;D.scrollable=true;D.align=x.opt.railvalign=="top"?0:1;x.railh=D;x.railh.drag=false}if(x.ispage){H.css({position:"fixed",top:"0px",height:"100%"}),H.align?H.css({right:"0px"}):H.css({left:"0px"}),x.body.append(H),x.railh&&(D.css({position:"fixed",left:"0px",width:"100%"}),D.align?D.css({bottom:"0px"}):D.css({top:"0px"}),x.body.append(D))}else{if(x.ishwscroll){x.win.css("position")=="static"&&x.css(x.win,{position:"relative"}),I=x.win[0].nodeName=="HTML"?x.body:x.win,x.zoom&&(x.zoom.css({position:"absolute",top:1,right:0,"margin-right":H.width+4}),I.append(x.zoom)),H.css({position:"absolute",top:0}),H.align?H.css({right:0}):H.css({left:0}),I.append(H),D&&(D.css({position:"absolute",left:0,bottom:0}),D.align?D.css({bottom:0}):D.css({top:0}),I.append(D))}else{x.isfixed=x.win.css("position")=="fixed";I=x.isfixed?"fixed":"absolute";if(!x.isfixed){x.viewport=x.getViewport(x.win[0])}if(x.viewport){x.body=x.viewport}H.css({position:I});x.zoom&&x.zoom.css({position:I});x.updateScrollBar();x.body.append(H);x.zoom&&x.body.append(x.zoom);x.railh&&(D.css({position:I}),x.body.append(D))}v.isios&&x.css(x.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"});v.isie&&x.opt.disableoutline&&x.win.attr("hideFocus","true");v.iswebkit&&x.opt.disableoutline&&x.win.css({outline:"none"})}if(x.opt.autohidemode===false){x.autohidedom=false,x.rail.css({opacity:x.opt.cursoropacitymax}),x.railh&&x.railh.css({opacity:x.opt.cursoropacitymax})}else{if(x.opt.autohidemode===true){if(x.autohidedom=i().add(x.rail),x.railh){x.autohidedom=x.autohidedom.add(x.railh)}}else{if(x.opt.autohidemode=="scroll"){if(x.autohidedom=i().add(x.rail),x.railh){x.autohidedom=x.autohidedom.add(x.railh)}}else{if(x.opt.autohidemode=="cursor"){if(x.autohidedom=i().add(x.cursor),x.railh){x.autohidedom=x.autohidedom.add(x.railh.cursor)}}else{if(x.opt.autohidemode=="hidden"){x.autohidedom=false,x.hide(),x.locked=false}}}}}if(v.isie9mobile){x.scrollmom=new j(x),x.onmangotouch=function(){var P=x.getScrollTop(),Q=x.getScrollLeft();if(P==x.scrollmom.lastscrolly&&Q==x.scrollmom.lastscrollx){return true}var M=P-x.mangotouch.sy,A=Q-x.mangotouch.sx;if(Math.round(Math.sqrt(Math.pow(A,2)+Math.pow(M,2)))!=0){var N=M<0?-1:1,O=A<0?-1:1,L=+new Date;x.mangotouch.lazy&&clearTimeout(x.mangotouch.lazy);if(L-x.mangotouch.tm>80||x.mangotouch.dry!=N||x.mangotouch.drx!=O){x.scrollmom.stop(),x.scrollmom.reset(Q,P),x.mangotouch.sy=P,x.mangotouch.ly=P,x.mangotouch.sx=Q,x.mangotouch.lx=Q,x.mangotouch.dry=N,x.mangotouch.drx=O,x.mangotouch.tm=L}else{if(x.scrollmom.stop(),x.scrollmom.update(x.mangotouch.sx-A,x.mangotouch.sy-M),x.mangotouch.tm=L,M=Math.max(Math.abs(x.mangotouch.ly-P),Math.abs(x.mangotouch.lx-Q)),x.mangotouch.ly=P,x.mangotouch.lx=Q,M>2){x.mangotouch.lazy=setTimeout(function(){x.mangotouch.lazy=false;x.mangotouch.dry=0;x.mangotouch.drx=0;x.mangotouch.tm=0;x.scrollmom.doMomentum(30)},100)}}}},H=x.getScrollTop(),D=x.getScrollLeft(),x.mangotouch={sy:H,ly:H,dry:0,sx:D,lx:D,drx:0,lazy:false,tm:0},x.bind(x.docscroll,"scroll",x.onmangotouch)}else{if(v.cantouch||x.istouchcapable||x.opt.touchbehavior||v.hasmstouch){x.scrollmom=new j(x);x.ontouchstart=function(L){if(L.pointerType&&L.pointerType!=2){return false}if(!x.locked){if(v.hasmstouch){for(var M=L.target?L.target:false;M;){var A=i(M).getNiceScroll();if(A.length>0&&A[0].me==x.me){break}if(A.length>0){return false}if(M.nodeName=="DIV"&&M.id==x.id){break}M=M.parentNode?M.parentNode:false}}x.cancelScroll();if((M=x.getTarget(L))&&/INPUT/i.test(M.nodeName)&&/range/i.test(M.type)){return x.stopPropagation(L)}if(!("clientX" in L)&&"changedTouches" in L){L.clientX=L.changedTouches[0].clientX,L.clientY=L.changedTouches[0].clientY}if(x.forcescreen){A=L,L={original:L.original?L.original:L},L.clientX=A.screenX,L.clientY=A.screenY}x.rail.drag={x:L.clientX,y:L.clientY,sx:x.scroll.x,sy:x.scroll.y,st:x.getScrollTop(),sl:x.getScrollLeft(),pt:2};x.opt.touchbehavior&&x.isiframe&&v.isie&&(A=x.win.position(),x.rail.drag.x+=A.left,x.rail.drag.y+=A.top);x.hasmoving=false;x.lastmouseup=false;x.scrollmom.reset(L.clientX,L.clientY);if(!v.cantouch&&!this.istouchcapable&&!v.hasmstouch){if(!M||!/INPUT|SELECT|TEXTAREA/i.test(M.nodeName)){return !x.ispage&&v.hasmousecapture&&M.setCapture(),x.cancelEvent(L)}if(/SUBMIT|CANCEL|BUTTON/i.test(i(M).attr("type"))){pc={tg:M,click:false},x.preventclick=pc}}}};x.ontouchend=function(A){if(A.pointerType&&A.pointerType!=2){return false}if(x.rail.drag&&x.rail.drag.pt==2&&(x.scrollmom.doMomentum(),x.rail.drag=false,x.hasmoving&&(x.hasmoving=false,x.lastmouseup=true,x.hideCursor(),v.hasmousecapture&&document.releaseCapture(),!v.cantouch))){return x.cancelEvent(A)}};var B=x.opt.touchbehavior&&x.isiframe&&!v.hasmousecapture;x.ontouchmove=function(Q,R){if(Q.pointerType&&Q.pointerType!=2){return false}if(x.rail.drag&&x.rail.drag.pt==2){if(v.cantouch&&typeof Q.original=="undefined"){return true}x.hasmoving=true;if(x.preventclick&&!x.preventclick.click){x.preventclick.click=x.preventclick.tg.onclick||false,x.preventclick.tg.onclick=x.onpreventclick}Q=i.extend({original:Q},Q);if("changedTouches" in Q){Q.clientX=Q.changedTouches[0].clientX,Q.clientY=Q.changedTouches[0].clientY}if(x.forcescreen){var P=Q,Q={original:Q.original?Q.original:Q};Q.clientX=P.screenX;Q.clientY=P.screenY}P=ofy=0;if(B&&!R){var A=x.win.position(),P=-A.left;ofy=-A.top}var O=Q.clientY+ofy,M=x.rail.drag.st-(O-x.rail.drag.y);if(x.ishwscroll&&x.opt.bouncescroll){M<0?M=Math.round(M/2):M>x.page.maxh&&(M=x.page.maxh+Math.round((M-x.page.maxh)/2))}else{if(M<0&&(O=M=0),M>x.page.maxh){M=x.page.maxh,O=0}}var N=Q.clientX+P;if(x.railh&&x.railh.scrollable){var L=x.rail.drag.sl-(N-x.rail.drag.x);if(x.ishwscroll&&x.opt.bouncescroll){L<0?L=Math.round(L/2):L>x.page.maxw&&(L=x.page.maxw+Math.round((L-x.page.maxw)/2))}else{if(L<0&&(N=L=0),L>x.page.maxw){L=x.page.maxw,N=0}}}x.synched("touchmove",function(){x.rail.drag&&x.rail.drag.pt==2&&(x.prepareTransition&&x.prepareTransition(0),x.rail.scrollable&&x.setScrollTop(M),x.scrollmom.update(N,O),x.railh&&x.railh.scrollable?(x.setScrollLeft(L),x.showCursor(M,L)):x.showCursor(M),v.isie10&&document.selection.clear())});if(!v.ischrome&&!x.istouchcapable){return x.cancelEvent(Q)}}}}v.cantouch||x.opt.touchbehavior?(x.onpreventclick=function(A){if(x.preventclick){return x.preventclick.tg.onclick=x.preventclick.click,x.preventclick=false,x.cancelEvent(A)}},x.onmousedown=x.ontouchstart,x.onmouseup=x.ontouchend,x.onclick=v.isios?false:function(A){return x.lastmouseup?(x.lastmouseup=false,x.cancelEvent(A)):true},x.onmousemove=x.ontouchmove,v.cursorgrabvalue&&(x.css(x.ispage?x.doc:x.win,{cursor:v.cursorgrabvalue}),x.css(x.rail,{cursor:v.cursorgrabvalue}))):(x.onmousedown=function(L,M){if(!(x.rail.drag&&x.rail.drag.pt!=1)){if(x.locked){return x.cancelEvent(L)}x.cancelScroll();x.rail.drag={x:L.clientX,y:L.clientY,sx:x.scroll.x,sy:x.scroll.y,pt:1,hr:!!M};var A=x.getTarget(L);!x.ispage&&v.hasmousecapture&&A.setCapture();if(x.isiframe&&!v.hasmousecapture){x.saved.csspointerevents=x.doc.css("pointer-events"),x.css(x.doc,{"pointer-events":"none"})}return x.cancelEvent(L)}},x.onmouseup=function(A){if(x.rail.drag&&(v.hasmousecapture&&document.releaseCapture(),x.isiframe&&!v.hasmousecapture&&x.doc.css("pointer-events",x.saved.csspointerevents),x.rail.drag.pt==1)){return x.rail.drag=false,x.cancelEvent(A)}},x.onmousemove=function(A){if(x.rail.drag){if(x.rail.drag.pt==1){if(v.ischrome&&A.which==0){return x.onmouseup(A)}x.cursorfreezed=true;if(x.rail.drag.hr){x.scroll.x=x.rail.drag.sx+(A.clientX-x.rail.drag.x);if(x.scroll.x<0){x.scroll.x=0}var L=x.scrollvaluemaxw;if(x.scroll.x>L){x.scroll.x=L}}else{x.scroll.y=x.rail.drag.sy+(A.clientY-x.rail.drag.y);if(x.scroll.y<0){x.scroll.y=0}L=x.scrollvaluemax;if(x.scroll.y>L){x.scroll.y=L}}x.synched("mousemove",function(){x.rail.drag&&x.rail.drag.pt==1&&(x.showCursor(),x.rail.drag.hr?x.doScrollLeft(Math.round(x.scroll.x*x.scrollratio.x)):x.doScrollTop(Math.round(x.scroll.y*x.scrollratio.y)))});return x.cancelEvent(A)}}else{x.checkarea=true}});(v.cantouch||x.opt.touchbehavior)&&x.bind(x.win,"mousedown",x.onmousedown);v.hasmstouch&&(x.css(x.rail,{"-ms-touch-action":"none"}),x.css(x.cursor,{"-ms-touch-action":"none"}),x.bind(x.win,"MSPointerDown",x.ontouchstart),x.bind(document,"MSPointerUp",x.ontouchend),x.bind(document,"MSPointerMove",x.ontouchmove),x.bind(x.cursor,"MSGestureHold",function(A){A.preventDefault()}),x.bind(x.cursor,"contextmenu",function(A){A.preventDefault()}));this.istouchcapable&&(x.bind(x.win,"touchstart",x.ontouchstart),x.bind(document,"touchend",x.ontouchend),x.bind(document,"touchcancel",x.ontouchend),x.bind(document,"touchmove",x.ontouchmove));x.bind(x.cursor,"mousedown",x.onmousedown);x.bind(x.cursor,"mouseup",x.onmouseup);x.railh&&(x.bind(x.cursorh,"mousedown",function(A){x.onmousedown(A,true)}),x.bind(x.cursorh,"mouseup",function(A){if(!(x.rail.drag&&x.rail.drag.pt==2)){return x.rail.drag=false,x.hasmoving=false,x.hideCursor(),v.hasmousecapture&&document.releaseCapture(),x.cancelEvent(A)}}));x.bind(document,"mouseup",x.onmouseup);v.hasmousecapture&&x.bind(x.win,"mouseup",x.onmouseup);x.bind(document,"mousemove",x.onmousemove);x.onclick&&x.bind(document,"click",x.onclick);!v.cantouch&&!x.opt.touchbehavior&&(x.jqbind(x.rail,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor();x.rail.active=true}),x.jqbind(x.rail,"mouseleave",function(){x.rail.active=false;x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.rail,"click",function(A){x.doRailClick(A,false,false)}),x.bind(x.rail,"dblclick",function(A){x.doRailClick(A,true,false)}),x.bind(x.cursor,"click",function(A){x.cancelEvent(A)}),x.bind(x.cursor,"dblclick",function(A){x.cancelEvent(A)})),x.railh&&(x.jqbind(x.railh,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor();x.rail.active=true}),x.jqbind(x.railh,"mouseleave",function(){x.rail.active=false;x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.railh,"click",function(A){x.doRailClick(A,false,true)}),x.bind(x.railh,"dblclick",function(A){x.doRailClick(A,true,true)}),x.bind(x.cursorh,"click",function(A){x.cancelEvent(A)}),x.bind(x.cursorh,"dblclick",function(A){x.cancelEvent(A)}))),x.zoom&&(x.jqbind(x.zoom,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor();x.rail.active=true}),x.jqbind(x.zoom,"mouseleave",function(){x.rail.active=false;x.rail.drag||x.hideCursor()})));x.opt.enablemousewheel&&(x.isiframe||x.bind(v.isie&&x.ispage?document:x.docscroll,"mousewheel",x.onmousewheel),x.bind(x.rail,"mousewheel",x.onmousewheel),x.railh&&x.bind(x.railh,"mousewheel",x.onmousewheelhr));!x.ispage&&!v.cantouch&&!/HTML|BODY/.test(x.win[0].nodeName)&&(x.win.attr("tabindex")||x.win.attr({tabindex:g++}),x.jqbind(x.win,"focus",function(A){c=x.getTarget(A).id||true;x.hasfocus=true;x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"blur",function(){c=false;x.hasfocus=false}),x.jqbind(x.win,"mouseenter",function(A){l=x.getTarget(A).id||true;x.hasmousefocus=true;x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"mouseleave",function(){l=false;x.hasmousefocus=false}))}x.onkeypress=function(N){if(x.locked&&x.page.maxh==0){return true}var N=N?N:window.e,O=x.getTarget(N);if(O&&/INPUT|TEXTAREA|SELECT|OPTION/.test(O.nodeName)&&(!O.getAttribute("type")&&!O.type||!/submit|button|cancel/i.tp)){return true}if(x.hasfocus||x.hasmousefocus&&!c||x.ispage&&!c&&!l){O=N.keyCode;if(x.locked&&O!=27){return x.cancelEvent(N)}var L=N.ctrlKey||false,A=N.shiftKey||false,M=false;switch(O){case 38:case 63233:x.doScrollBy(72);M=true;break;case 40:case 63235:x.doScrollBy(-72);M=true;break;case 37:case 63232:x.railh&&(L?x.doScrollLeft(0):x.doScrollLeftBy(72),M=true);break;case 39:case 63234:x.railh&&(L?x.doScrollLeft(x.page.maxw):x.doScrollLeftBy(-72),M=true);break;case 33:case 63276:x.doScrollBy(x.view.h);M=true;break;case 34:case 63277:x.doScrollBy(-x.view.h);M=true;break;case 36:case 63273:x.railh&&L?x.doScrollPos(0,0):x.doScrollTo(0);M=true;break;case 35:case 63275:x.railh&&L?x.doScrollPos(x.page.maxw,x.page.maxh):x.doScrollTo(x.page.maxh);M=true;break;case 32:x.opt.spacebarenabled&&(A?x.doScrollBy(x.view.h):x.doScrollBy(-x.view.h),M=true);break;case 27:x.zoomactive&&(x.doZoom(),M=true)}if(M){return x.cancelEvent(N)}}};x.opt.enablekeyboard&&x.bind(document,v.isopera&&!v.isopera12?"keypress":"keydown",x.onkeypress);x.bind(window,"resize",x.resize);x.bind(window,"orientationchange",x.resize);x.bind(window,"load",x.resize);if(v.ischrome&&!x.ispage&&!x.haswrapper){var C=x.win.attr("style"),H=parseFloat(x.win.css("width"))+1;x.win.css("width",H);x.synched("chromefix",function(){x.win.attr("style",C)})}x.onAttributeChange=function(){x.lazyResize()};if(!x.ispage&&!x.haswrapper){"WebKitMutationObserver" in window?(x.observer=new WebKitMutationObserver(function(A){A.forEach(x.onAttributeChange)}),x.observer.observe(x.win[0],{attributes:true,subtree:false})):(x.bind(x.win,v.isie&&!v.isie9?"propertychange":"DOMAttrModified",x.onAttributeChange),v.isie9&&x.win[0].attachEvent("onpropertychange",x.onAttributeChange))}!x.ispage&&x.opt.boxzoom&&x.bind(window,"resize",x.resizeZoom);x.istextarea&&x.bind(x.win,"mouseup",x.resize);x.resize()}if(this.doc[0].nodeName=="IFRAME"){var z=function(){x.iframexd=false;try{var L="contentDocument" in this?this.contentDocument:this.contentWindow.document}catch(M){x.iframexd=true,L=false}if(x.iframexd){return"console" in window&&console.log("NiceScroll error: policy restriced iframe"),true}x.forcescreen=true;if(x.isiframe){x.iframe={doc:i(L),html:x.doc.contents().find("html")[0],body:x.doc.contents().find("body")[0]},x.getContentSize=function(){return{w:Math.max(x.iframe.html.scrollWidth,x.iframe.body.scrollWidth),h:Math.max(x.iframe.html.scrollHeight,x.iframe.body.scrollHeight)}},x.docscroll=i(x.iframe.body)}if(!v.isios&&x.opt.iframeautoresize&&!x.isiframe){x.win.scrollTop(0);x.doc.height("");var A=Math.max(L.getElementsByTagName("html")[0].scrollHeight,L.body.scrollHeight);x.doc.height(A)}x.resize();v.isie7&&x.css(i(x.iframe.html),{"overflow-y":"hidden"});x.css(i(x.iframe.body),{"overflow-y":"hidden"});"contentWindow" in this?x.bind(this.contentWindow,"scroll",x.onscroll):x.bind(L,"scroll",x.onscroll);x.opt.enablemousewheel&&x.bind(L,"mousewheel",x.onmousewheel);x.opt.enablekeyboard&&x.bind(L,v.isopera?"keypress":"keydown",x.onkeypress);if(v.cantouch||x.opt.touchbehavior){x.bind(L,"mousedown",x.onmousedown),x.bind(L,"mousemove",function(N){x.onmousemove(N,true)}),v.cursorgrabvalue&&x.css(i(L.body),{cursor:v.cursorgrabvalue})}x.bind(L,"mouseup",x.onmouseup);x.zoom&&(x.opt.dblclickzoom&&x.bind(L,"dblclick",x.doZoom),x.ongesturezoom&&x.bind(L,"gestureend",x.ongesturezoom))};this.doc[0].readyState&&this.doc[0].readyState=="complete"&&setTimeout(function(){z.call(x.doc[0],false)},500);x.bind(this.doc,"load",z)}};this.showCursor=function(z,A){if(x.cursortimeout){clearTimeout(x.cursortimeout),x.cursortimeout=0}if(x.rail){if(x.autohidedom){x.autohidedom.stop().css({opacity:x.opt.cursoropacitymax}),x.cursoractive=true}if(typeof z!="undefined"&&z!==false){x.scroll.y=Math.round(z*1/x.scrollratio.y)}if(typeof A!="undefined"){x.scroll.x=Math.round(A*1/x.scrollratio.x)}x.cursor.css({height:x.cursorheight,top:x.scroll.y});if(x.cursorh){!x.rail.align&&x.rail.visibility?x.cursorh.css({width:x.cursorwidth,left:x.scroll.x+x.rail.width}):x.cursorh.css({width:x.cursorwidth,left:x.scroll.x}),x.cursoractive=true}x.zoom&&x.zoom.stop().css({opacity:x.opt.cursoropacitymax})}};this.hideCursor=function(z){if(!x.cursortimeout&&x.rail&&x.autohidedom){x.cursortimeout=setTimeout(function(){if(!x.rail.active||!x.showonmouseevent){x.autohidedom.stop().animate({opacity:x.opt.cursoropacitymin}),x.zoom&&x.zoom.stop().animate({opacity:x.opt.cursoropacitymin}),x.cursoractive=false}x.cursortimeout=0},z||400)}};this.noticeCursor=function(A,B,z){x.showCursor(B,z);x.rail.active||x.hideCursor(A)};this.getContentSize=x.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:x.haswrapper?function(){return{w:x.doc.outerWidth()+parseInt(x.win.css("paddingLeft"))+parseInt(x.win.css("paddingRight")),h:x.doc.outerHeight()+parseInt(x.win.css("paddingTop"))+parseInt(x.win.css("paddingBottom"))}}:function(){return{w:x.docscroll[0].scrollWidth,h:x.docscroll[0].scrollHeight}};this.onResize=function(C,D){if(!x.win){return false}if(!x.haswrapper&&!x.ispage){if(x.win.css("display")=="none"){return x.visibility&&x.hideRail().hideRailHr(),false}else{!x.hidden&&!x.visibility&&x.showRail().showRailHr()}}var z=x.page.maxh,A=x.page.maxw,B=x.view.w;x.view={w:x.ispage?x.win.width():parseInt(x.win[0].clientWidth),h:x.ispage?x.win.height():parseInt(x.win[0].clientHeight)};x.page=D?D:x.getContentSize();x.page.maxh=Math.max(0,x.page.h-x.view.h);x.page.maxw=Math.max(0,x.page.w-x.view.w);if(x.page.maxh==z&&x.page.maxw==A&&x.view.w==B){if(x.ispage){return x}else{z=x.win.offset();if(x.lastposition&&(A=x.lastposition,A.top==z.top&&A.left==z.left)){return x}x.lastposition=z}}x.page.maxh==0?(x.hideRail(),x.scrollvaluemax=0,x.scroll.y=0,x.scrollratio.y=0,x.cursorheight=0,x.setScrollTop(0),x.rail.scrollable=false):x.rail.scrollable=true;x.page.maxw==0?(x.hideRailHr(),x.scrollvaluemaxw=0,x.scroll.x=0,x.scrollratio.x=0,x.cursorwidth=0,x.setScrollLeft(0),x.railh.scrollable=false):x.railh.scrollable=true;x.locked=x.page.maxh==0&&x.page.maxw==0;if(x.locked){return x.ispage||x.updateScrollBar(x.view),false}!x.hidden&&!x.visibility?x.showRail().showRailHr():!x.hidden&&!x.railh.visibility&&x.showRailHr();x.istextarea&&x.win.css("resize")&&x.win.css("resize")!="none"&&(x.view.h-=20);x.ispage||x.updateScrollBar(x.view);x.cursorheight=Math.min(x.view.h,Math.round(x.view.h*(x.view.h/x.page.h)));x.cursorheight=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorheight);x.cursorwidth=Math.min(x.view.w,Math.round(x.view.w*(x.view.w/x.page.w)));x.cursorwidth=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorwidth);x.scrollvaluemax=x.view.h-x.cursorheight-x.cursor.hborder;if(x.railh){x.railh.width=x.page.maxh>0?x.view.w-x.rail.width:x.view.w,x.scrollvaluemaxw=x.railh.width-x.cursorwidth-x.cursorh.wborder}x.scrollratio={x:x.page.maxw/x.scrollvaluemaxw,y:x.page.maxh/x.scrollvaluemax};x.getScrollTop()>x.page.maxh?x.doScrollTop(x.page.maxh):(x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x)),x.cursoractive&&x.noticeCursor());x.scroll.y&&x.getScrollTop()==0&&x.doScrollTo(Math.floor(x.scroll.y*x.scrollratio.y));return x};this.resize=function(){x.delayed("resize",x.onResize,30);return x};this.lazyResize=function(){x.delayed("resize",x.resize,250)};this._bind=function(B,C,z,A){x.events.push({e:B,n:C,f:z,b:A,q:false});B.addEventListener?B.addEventListener(C,z,A||false):B.attachEvent?B.attachEvent("on"+C,z):B["on"+C]=z};this.jqbind=function(A,B,z){x.events.push({e:A,n:B,f:z,q:true});i(A).bind(B,z)};this.bind=function(C,D,A,B){var z="jquery" in C?C[0]:C;z.addEventListener?(v.cantouch&&/mouseup|mousedown|mousemove/.test(D)&&x._bind(z,D=="mousedown"?"touchstart":D=="mouseup"?"touchend":"touchmove",function(E){if(E.touches){if(E.touches.length<2){var F=E.touches.length?E.touches[0]:E;F.original=E;A.call(this,F)}}else{if(E.changedTouches){F=E.changedTouches[0],F.original=E,A.call(this,F)}}},B||false),x._bind(z,D,A,B||false),D=="mousewheel"&&x._bind(z,"DOMMouseScroll",A,B||false),v.cantouch&&D=="mouseup"&&x._bind(z,"touchcancel",A,B||false)):x._bind(z,D,function(E){if((E=E||window.event||false)&&E.srcElement){E.target=E.srcElement}return A.call(z,E)===false||B===false?x.cancelEvent(E):true})};this._unbind=function(z,C,A,B){z.removeEventListener?z.removeEventListener(C,A,B):z.detachEvent?z.detachEvent("on"+C,A):z["on"+C]=false};this.unbindAll=function(){for(var z=0;z<x.events.length;z++){var A=x.events[z];A.q?A.e.unbind(A.n,A.f):x._unbind(A.e,A.n,A.f,A.b)}};this.cancelEvent=function(z){z=z.original?z.original:z?z:window.event||false;if(!z){return false}z.preventDefault&&z.preventDefault();z.stopPropagation&&z.stopPropagation();z.preventManipulation&&z.preventManipulation();z.cancelBubble=true;z.cancel=true;return z.returnValue=false};this.stopPropagation=function(z){z=z.original?z.original:z?z:window.event||false;if(!z){return false}if(z.stopPropagation){return z.stopPropagation()}if(z.cancelBubble){z.cancelBubble=true}return false};this.showRail=function(){if(x.page.maxh!=0&&(x.ispage||x.win.css("display")!="none")){x.visibility=true,x.rail.visibility=true,x.rail.css("display","block")}return x};this.showRailHr=function(){if(!x.railh){return x}if(x.page.maxw!=0&&(x.ispage||x.win.css("display")!="none")){x.railh.visibility=true,x.railh.css("display","block")}return x};this.hideRail=function(){x.visibility=false;x.rail.visibility=false;x.rail.css("display","none");return x};this.hideRailHr=function(){if(!x.railh){return x}x.railh.visibility=false;x.railh.css("display","none");return x};this.show=function(){x.hidden=false;x.locked=false;return x.showRail().showRailHr()};this.hide=function(){x.hidden=true;x.locked=true;return x.hideRail().hideRailHr()};this.toggle=function(){return x.hidden?x.show():x.hide()};this.remove=function(){x.stop();x.cursortimeout&&clearTimeout(x.cursortimeout);x.doZoomOut();x.unbindAll();x.observer!==false&&x.observer.disconnect();x.events=[];if(x.cursor){x.cursor.remove(),x.cursor=null}if(x.cursorh){x.cursorh.remove(),x.cursorh=null}if(x.rail){x.rail.remove(),x.rail=null}if(x.railh){x.railh.remove(),x.railh=null}if(x.zoom){x.zoom.remove(),x.zoom=null}for(var z=0;z<x.saved.css.length;z++){var A=x.saved.css[z];A[0].css(A[1],typeof A[2]=="undefined"?"":A[2])}x.saved=false;x.me.data("__nicescroll","");x.me=null;x.doc=null;x.docscroll=null;x.win=null;return x};this.scrollstart=function(z){this.onscrollstart=z;return x};this.scrollend=function(z){this.onscrollend=z;return x};this.scrollcancel=function(z){this.onscrollcancel=z;return x};this.zoomin=function(z){this.onzoomin=z;return x};this.zoomout=function(z){this.onzoomout=z;return x};this.isScrollable=function(z){for(z=z.target?z.target:z;z&&z.nodeType==1&&!/BODY|HTML/.test(z.nodeName);){var A=i(z);if(/scroll|auto/.test(A.css("overflowY")||A.css("overflowX")||A.css("overflow")||"")){return z.clientHeight!=z.scrollHeight}z=z.parentNode?z.parentNode:false}return false};this.getViewport=function(z){for(z=z&&z.parentNode?z.parentNode:false;z&&z.nodeType==1&&!/BODY|HTML/.test(z.nodeName);){var A=i(z);if(/scroll|auto/.test(A.css("overflowY")||A.css("overflowX")||A.css("overflow")||"")&&z.clientHeight!=z.scrollHeight){return A}if(A.getNiceScroll().length>0){return A}z=z.parentNode?z.parentNode:false}return false};this.onmousewheel=function(z){if(x.locked){return true}if(!x.rail.scrollable){return x.railh&&x.railh.scrollable?x.onmousewheelhr(z):true}if(x.opt.preservenativescrolling&&x.checkarea){x.checkarea=false,x.nativescrollingarea=x.isScrollable(z)}if(x.nativescrollingarea){return true}if(x.locked){return x.cancelEvent(z)}if(x.rail.drag){return x.cancelEvent(z)}t(z,false);return x.cancelEvent(z)};this.onmousewheelhr=function(z){if(x.locked||!x.railh.scrollable){return true}if(x.opt.preservenativescrolling&&x.checkarea){x.checkarea=false,x.nativescrollingarea=x.isScrollable(z)}if(x.nativescrollingarea){return true}if(x.locked){return x.cancelEvent(z)}if(x.rail.drag){return x.cancelEvent(z)}t(z,true);return x.cancelEvent(z)};this.stop=function(){x.cancelScroll();x.scrollmon&&x.scrollmon.stop();x.cursorfreezed=false;x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y));x.noticeCursor();return x};this.getTransitionSpeed=function(z){var A=Math.round(x.opt.scrollspeed*10),z=Math.min(A,Math.round(z/20*x.opt.scrollspeed));return z>20?z:0};x.opt.smoothscroll?x.ishwscroll&&v.hastransition&&x.opt.usetransition?(this.prepareTransition=function(B,C){var z=C?B>20?B:0:x.getTransitionSpeed(B),A=z?v.prefixstyle+"transform "+z+"ms ease-out":"";if(!x.lasttransitionstyle||x.lasttransitionstyle!=A){x.lasttransitionstyle=A,x.doc.css(v.transitionstyle,A)}return z},this.doScrollLeft=function(A,B){var z=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(A,z,B)},this.doScrollTop=function(B,A){var z=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(z,B,A)},this.doScrollPos=function(D,C,B){var A=x.getScrollTop(),z=x.getScrollLeft();((x.newscrolly-A)*(C-A)<0||(x.newscrollx-z)*(D-z)<0)&&x.cancelScroll();if(x.opt.bouncescroll==false){if(C<0){C=0}else{if(C>x.page.maxh){C=x.page.maxh}}if(D<0){D=0}else{if(D>x.page.maxw){D=x.page.maxw}}}if(D==x.newscrollx&&C==x.newscrolly){return false}x.newscrolly=C;x.newscrollx=D;x.newscrollspeed=B||false;if(x.timer){return false}x.timer=setTimeout(function(){var H=x.getScrollTop(),G=x.getScrollLeft(),F,E;F=D-G;E=C-H;F=Math.round(Math.sqrt(Math.pow(F,2)+Math.pow(E,2)));F=x.prepareTransition(x.newscrollspeed?x.newscrollspeed:F);x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm);if(F>0){!x.scrollrunning&&x.onscrollstart&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:G,y:H},request:{x:D,y:C},end:{x:x.newscrollx,y:x.newscrolly},speed:F});if(v.transitionend){if(!x.scrollendtrapped){x.scrollendtrapped=true,x.bind(x.doc,v.transitionend,x.onScrollEnd,false)}}else{x.scrollendtrapped&&clearTimeout(x.scrollendtrapped),x.scrollendtrapped=setTimeout(x.onScrollEnd,F)}x.timerscroll={bz:new BezierClass(H,x.newscrolly,F,0,0,0.58,1),bh:new BezierClass(G,x.newscrollx,F,0,0,0.58,1)};if(!x.cursorfreezed){x.timerscroll.tm=setInterval(function(){x.showCursor(x.getScrollTop(),x.getScrollLeft())},60)}}x.synched("doScroll-set",function(){x.timer=0;if(x.scrollendtrapped){x.scrollrunning=true}x.setScrollTop(x.newscrolly);x.setScrollLeft(x.newscrollx);if(!x.scrollendtrapped){x.onScrollEnd()}})},50)},this.cancelScroll=function(){if(!x.scrollendtrapped){return true}var A=x.getScrollTop(),z=x.getScrollLeft();x.scrollrunning=false;v.transitionend||clearTimeout(v.transitionend);x.scrollendtrapped=false;x._unbind(x.doc,v.transitionend,x.onScrollEnd);x.prepareTransition(0);x.setScrollTop(A);x.railh&&x.setScrollLeft(z);x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm);x.timerscroll=false;x.cursorfreezed=false;x.showCursor(A,z);return x},this.onScrollEnd=function(){x.scrollendtrapped&&x._unbind(x.doc,v.transitionend,x.onScrollEnd);x.scrollendtrapped=false;x.prepareTransition(0);x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm);x.timerscroll=false;var A=x.getScrollTop(),z=x.getScrollLeft();x.setScrollTop(A);x.railh&&x.setScrollLeft(z);x.noticeCursor(false,A,z);x.cursorfreezed=false;if(A<0){A=0}else{if(A>x.page.maxh){A=x.page.maxh}}if(z<0){z=0}else{if(z>x.page.maxw){z=x.page.maxw}}if(A!=x.newscrolly||z!=x.newscrollx){return x.doScrollPos(z,A,x.opt.snapbackspeed)}x.onscrollend&&x.scrollrunning&&x.onscrollend.call(x,{type:"scrollend",current:{x:z,y:A},end:{x:x.newscrollx,y:x.newscrolly}});x.scrollrunning=false}):(this.doScrollLeft=function(A){var z=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(A,z)},this.doScrollTop=function(A){var z=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(z,A)},this.doScrollPos=function(H,F){function E(){if(x.cancelAnimationFrame){return true}x.scrollrunning=true;if(z=1-z){return x.timer=h(E)||1}var L=0,K=sy=x.getScrollTop();if(x.dst.ay){var K=x.bzscroll?x.dst.py+x.bzscroll.getNow()*x.dst.ay:x.newscrolly,I=K-sy;if(I<0&&K<x.newscrolly||I>0&&K>x.newscrolly){K=x.newscrolly}x.setScrollTop(K);K==x.newscrolly&&(L=1)}else{L=1}var J=sx=x.getScrollLeft();if(x.dst.ax){J=x.bzscroll?x.dst.px+x.bzscroll.getNow()*x.dst.ax:x.newscrollx;I=J-sx;if(I<0&&J<x.newscrollx||I>0&&J>x.newscrollx){J=x.newscrollx}x.setScrollLeft(J);J==x.newscrollx&&(L+=1)}else{L+=1}if(L==2){x.timer=0;x.cursorfreezed=false;x.bzscroll=false;x.scrollrunning=false;if(K<0){K=0}else{if(K>x.page.maxh){K=x.page.maxh}}if(J<0){J=0}else{if(J>x.page.maxw){J=x.page.maxw}}J!=x.newscrollx||K!=x.newscrolly?x.doScrollPos(J,K):x.onscrollend&&x.onscrollend.call(x,{type:"scrollend",current:{x:sx,y:sy},end:{x:x.newscrollx,y:x.newscrolly}})}else{x.timer=h(E)||1}}F=typeof F=="undefined"||F===false?x.getScrollTop(true):F;if(x.timer&&x.newscrolly==F&&x.newscrollx==H){return true}x.timer&&f(x.timer);x.timer=0;var G=x.getScrollTop(),D=x.getScrollLeft();((x.newscrolly-G)*(F-G)<0||(x.newscrollx-D)*(H-D)<0)&&x.cancelScroll();x.newscrolly=F;x.newscrollx=H;if(!x.bouncescroll||!x.rail.visibility){if(x.newscrolly<0){x.newscrolly=0}else{if(x.newscrolly>x.page.maxh){x.newscrolly=x.page.maxh}}}if(!x.bouncescroll||!x.railh.visibility){if(x.newscrollx<0){x.newscrollx=0}else{if(x.newscrollx>x.page.maxw){x.newscrollx=x.page.maxw}}}x.dst={};x.dst.x=H-D;x.dst.y=F-G;x.dst.px=D;x.dst.py=G;var C=Math.round(Math.sqrt(Math.pow(x.dst.x,2)+Math.pow(x.dst.y,2)));x.dst.ax=x.dst.x/C;x.dst.ay=x.dst.y/C;var B=0,A=C;if(x.dst.x==0){B=G,A=F,x.dst.ay=1,x.dst.py=0}else{if(x.dst.y==0){B=D,A=H,x.dst.ax=1,x.dst.px=0}}C=x.getTransitionSpeed(C);x.bzscroll=C>0?x.bzscroll?x.bzscroll.update(A,C):new BezierClass(B,A,C,0,1,0,1):false;if(!x.timer){(G==x.page.maxh&&F>=x.page.maxh||D==x.page.maxw&&H>=x.page.maxw)&&x.checkContentSize();var z=1;x.cancelAnimationFrame=false;x.timer=1;x.onscrollstart&&!x.scrollrunning&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:D,y:G},request:{x:H,y:F},end:{x:x.newscrollx,y:x.newscrolly},speed:C});E();(G==x.page.maxh&&F>=G||D==x.page.maxw&&H>=D)&&x.checkContentSize();x.noticeCursor()}},this.cancelScroll=function(){x.timer&&f(x.timer);x.timer=0;x.bzscroll=false;x.scrollrunning=false;return x}):(this.doScrollLeft=function(B,A){var z=x.getScrollTop();x.doScrollPos(B,z,A)},this.doScrollTop=function(B,A){var z=x.getScrollLeft();x.doScrollPos(z,B,A)},this.doScrollPos=function(C,A){var z=C>x.page.maxw?x.page.maxw:C;z<0&&(z=0);var B=A>x.page.maxh?x.page.maxh:A;B<0&&(B=0);x.synched("scroll",function(){x.setScrollTop(B);x.setScrollLeft(z)})},this.cancelScroll=function(){});this.doScrollBy=function(C,A){var z=0,z=A?Math.floor((x.scroll.y-C)*x.scrollratio.y):(x.timer?x.newscrolly:x.getScrollTop(true))-C;if(x.bouncescroll){var B=Math.round(x.view.h/2);z<-B?z=-B:z>x.page.maxh+B&&(z=x.page.maxh+B)}x.cursorfreezed=false;py=x.getScrollTop(true);if(z<0&&py<=0){return x.noticeCursor()}else{if(z>x.page.maxh&&py>=x.page.maxh){return x.checkContentSize(),x.noticeCursor()}}x.doScrollTop(z)};this.doScrollLeftBy=function(C,A){var B=0,B=A?Math.floor((x.scroll.x-C)*x.scrollratio.x):(x.timer?x.newscrollx:x.getScrollLeft(true))-C;if(x.bouncescroll){var z=Math.round(x.view.w/2);B<-z?B=-z:B>x.page.maxw+z&&(B=x.page.maxw+z)}x.cursorfreezed=false;px=x.getScrollLeft(true);if(B<0&&px<=0){return x.noticeCursor()}else{if(B>x.page.maxw&&px>=x.page.maxw){return x.noticeCursor()}}x.doScrollLeft(B)};this.doScrollTo=function(A,z){z&&Math.round(A*x.scrollratio.y);x.cursorfreezed=false;x.doScrollTop(A)};this.checkContentSize=function(){var z=x.getContentSize();(z.h!=x.page.h||z.w!=x.page.w)&&x.resize(false,z)};x.onscroll=function(){x.rail.drag||x.cursorfreezed||x.synched("scroll",function(){x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y));if(x.railh){x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x))}x.noticeCursor()})};x.bind(x.docscroll,"scroll",x.onscroll);this.doZoomIn=function(D){if(!x.zoomactive){x.zoomactive=true;x.zoomrestore={style:{}};var B="position,top,left,zIndex,backgroundColor,marginTop,marginBottom,marginLeft,marginRight".split(","),C=x.win[0].style,A;for(A in B){var z=B[A];x.zoomrestore.style[z]=typeof C[z]!="undefined"?C[z]:""}x.zoomrestore.style.width=x.win.css("width");x.zoomrestore.style.height=x.win.css("height");x.zoomrestore.padding={w:x.win.outerWidth()-x.win.width(),h:x.win.outerHeight()-x.win.height()};if(v.isios4){x.zoomrestore.scrollTop=i(window).scrollTop(),i(window).scrollTop(0)}x.win.css({position:v.isios4?"absolute":"fixed",top:0,left:0,"z-index":x.opt.zindex+100,margin:"0px"});B=x.win.css("backgroundColor");(B==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(B))&&x.win.css("backgroundColor","#fff");x.rail.css({"z-index":x.opt.zindex+110});x.zoom.css({"z-index":x.opt.zindex+112});x.zoom.css("backgroundPosition","0px -18px");x.resizeZoom();x.onzoomin&&x.onzoomin.call(x);return x.cancelEvent(D)}};this.doZoomOut=function(z){if(x.zoomactive){return x.zoomactive=false,x.win.css("margin",""),x.win.css(x.zoomrestore.style),v.isios4&&i(window).scrollTop(x.zoomrestore.scrollTop),x.rail.css({"z-index":x.ispage?x.opt.zindex:x.opt.zindex+2}),x.zoom.css({"z-index":x.opt.zindex}),x.zoomrestore=false,x.zoom.css("backgroundPosition","0px 0px"),x.onResize(),x.onzoomout&&x.onzoomout.call(x),x.cancelEvent(z)}};this.doZoom=function(z){return x.zoomactive?x.doZoomOut(z):x.doZoomIn(z)};this.resizeZoom=function(){if(x.zoomactive){var z=x.getScrollTop();x.win.css({width:i(window).width()-x.zoomrestore.padding.w+"px",height:i(window).height()-x.zoomrestore.padding.h+"px"});x.onResize();console.log(z);x.setScrollTop(Math.min(x.page.maxh,z))}};this.init();i.nicescroll.push(this)},j=function(p){var q=this;this.nc=p;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=false;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return +new Date};this.reset=function(u,t){q.stop();var r=q.time();q.steptime=0;q.lasttime=r;q.speedx=0;q.speedy=0;q.lastx=u;q.lasty=t;q.lastscrollx=-1;q.lastscrolly=-1};this.update=function(x,v){var t=q.time();q.steptime=t-q.lasttime;q.lasttime=t;var t=v-q.lasty,u=x-q.lastx,w=q.nc.getScrollTop(),r=q.nc.getScrollLeft();w+=t;r+=u;q.snapx=r<0||r>q.nc.page.maxw;q.snapy=w<0||w>q.nc.page.maxh;q.speedx=u;q.speedy=t;q.lastx=x;q.lasty=v};this.stop=function(){q.nc.unsynched("domomentum2d");q.timer&&clearTimeout(q.timer);q.timer=0;q.lastscrollx=-1;q.lastscrolly=-1};this.doSnapy=function(u,t){var r=false;if(t<0){t=0,r=true}else{if(t>q.nc.page.maxh){t=q.nc.page.maxh,r=true}}if(u<0){u=0,r=true}else{if(u>q.nc.page.maxw){u=q.nc.page.maxw,r=true}}r&&q.nc.doScrollPos(u,t,q.nc.opt.snapbackspeed)};this.doMomentum=function(A){var w=q.time(),C=A?w+A:q.lasttime,A=q.nc.getScrollLeft(),v=q.nc.getScrollTop(),z=q.nc.page.maxh,t=q.nc.page.maxw;q.speedx=t>0?Math.min(60,q.speedx):0;q.speedy=z>0?Math.min(60,q.speedy):0;C=C&&w-C<=50;if(v<0||v>z||A<0||A>t){C=false}A=q.speedx&&C?q.speedx:false;if(q.speedy&&C&&q.speedy||A){var r=Math.max(16,q.steptime);r>50&&(A=r/50,q.speedx*=A,q.speedy*=A,r=50);q.demulxy=0;q.lastscrollx=q.nc.getScrollLeft();q.chkx=q.lastscrollx;q.lastscrolly=q.nc.getScrollTop();q.chky=q.lastscrolly;var B=q.lastscrollx,u=q.lastscrolly,x=function(){var e=q.time()-w>600?0.04:0.02;if(q.speedx&&(B=Math.floor(q.lastscrollx-q.speedx*(1-q.demulxy)),q.lastscrollx=B,B<0||B>t)){e=0.1}if(q.speedy&&(u=Math.floor(q.lastscrolly-q.speedy*(1-q.demulxy)),q.lastscrolly=u,u<0||u>z)){e=0.1}q.demulxy=Math.min(1,q.demulxy+e);q.nc.synched("domomentum2d",function(){if(q.speedx){q.nc.getScrollLeft()!=q.chkx&&q.stop(),q.chkx=B,q.nc.setScrollLeft(B)}if(q.speedy){q.nc.getScrollTop()!=q.chky&&q.stop(),q.chky=u,q.nc.setScrollTop(u)}q.timer||(q.nc.hideCursor(),q.doSnapy(B,u))});q.demulxy<1?q.timer=setTimeout(x,r):(q.stop(),q.nc.hideCursor(),q.doSnapy(B,u))};x()}else{q.doSnapy(q.nc.getScrollLeft(),q.nc.getScrollTop())}}},o=i.fn.scrollTop;i.cssHooks.pageYOffset={get:function(e){var p=i.data(e,"__nicescroll")||false;return p&&p.ishwscroll?p.getScrollTop():o.call(e)},set:function(e,q){var p=i.data(e,"__nicescroll")||false;p&&p.ishwscroll?p.setScrollTop(parseInt(q)):o.call(e,q);return this}};i.fn.scrollTop=function(e){if(typeof e=="undefined"){var p=this[0]?i.data(this[0],"__nicescroll")||false:false;return p&&p.ishwscroll?p.getScrollTop():o.call(this)}else{return this.each(function(){var q=i.data(this,"__nicescroll")||false;q&&q.ishwscroll?q.setScrollTop(parseInt(e)):o.call(i(this),e)})}};var n=i.fn.scrollLeft;i.cssHooks.pageXOffset={get:function(e){var p=i.data(e,"__nicescroll")||false;return p&&p.ishwscroll?p.getScrollLeft():n.call(e)},set:function(e,q){var p=i.data(e,"__nicescroll")||false;p&&p.ishwscroll?p.setScrollLeft(parseInt(q)):n.call(e,q);return this}};i.fn.scrollLeft=function(e){if(typeof e=="undefined"){var p=this[0]?i.data(this[0],"__nicescroll")||false:false;return p&&p.ishwscroll?p.getScrollLeft():n.call(this)}else{return this.each(function(){var q=i.data(this,"__nicescroll")||false;q&&q.ishwscroll?q.setScrollLeft(parseInt(e)):n.call(i(this),e)})}};var m=function(e){var q=this;this.length=0;this.name="nicescrollarray";this.each=function(t){for(var r=0;r<q.length;r++){t.call(q[r])}return q};this.push=function(r){q[q.length]=r;q.length++};this.eq=function(r){return q[r]};if(e){for(a=0;a<e.length;a++){var p=i.data(e[a],"__nicescroll")||false;p&&(this[this.length]=p,this.length++)}}return this};(function(r,t,q){for(var p=0;p<t.length;p++){q(r,t[p])}})(m.prototype,"show,hide,toggle,onResize,resize,remove,stop,doScrollPos".split(","),function(p,q){p[q]=function(){var r=arguments;return this.each(function(){this[q].apply(this,r)})}});i.fn.getNiceScroll=function(e){return typeof e=="undefined"?new m(this):i.data(this[e],"__nicescroll")||false};i.extend(i.expr[":"],{nicescroll:function(e){return i.data(e,"__nicescroll")?true:false}});i.fn.niceScroll=function(e,r){typeof r=="undefined"&&typeof e=="object"&&!("jquery" in e)&&(r=e,e=false);var q=new m;typeof r=="undefined"&&(r={});if(e){r.doc=i(e),r.win=i(this)}var p=!("doc" in r);if(!p&&!("win" in r)){r.win=i(this)}this.each(function(){var t=i(this).data("__nicescroll")||false;if(!t){r.doc=p?i(this):r.doc,t=new s(r,i(this)),i(this).data("__nicescroll",t)}q.push(t)});return q.length==1?q[0]:q};window.NiceScroll={getjQuery:function(){return i}};if(!i.nicescroll){i.nicescroll=new m}})(jQuery);

/*!
 * Stellar.js
 * http://markdalgleish.com/projects/stellar.js
 *
 * Copyright 2013, Mark Dalgleish
 * This content is released under the MIT license
 * http://markdalgleish.mit-license.org
 */
;(function(f,l,n,d){var k="stellar",e={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:false,verticalScrolling:true,horizontalOffset:0,verticalOffset:0,responsive:false,parallaxBackgrounds:true,parallaxElements:true,hideDistantElements:true,viewportDetectionInterval:100,hideElement:function(p){p.hide()},showElement:function(p){p.show()}},g={scroll:{getTop:function(p){return p.scrollTop()},setTop:function(p,q){p.scrollTop(q)},getLeft:function(p){return p.scrollLeft()},setLeft:function(p,q){p.scrollLeft(q)}},position:{getTop:function(p){return parseInt(p.css("top"),10)*-1},setTop:function(p,q){p.css("top",q)},getLeft:function(p){return parseInt(p.css("left"),10)*-1},setLeft:function(p,q){p.css("left",q)}},margin:{getTop:function(p){return parseInt(p.css("margin-top"),10)*-1},setTop:function(p,q){p.css("margin-top",q)},getLeft:function(p){return parseInt(p.css("margin-left"),10)*-1},setLeft:function(p,q){p.css("margin-left",q)}},transform:{getTop:function(p){return(getComputedStyle(p[0])[a("transform")]!=="none"?parseInt(getComputedStyle(p[0])[a("transform")].match(/(-?[0-9]+)/g)[5],10)*-1:0)},setTop:function(p,q){i(p,q,"Y")},getLeft:function(p){return(getComputedStyle(p[0])[a("transform")]!=="none"?parseInt(getComputedStyle(p[0])[a("transform")].match(/(-?[0-9]+)/g)[4],10)*-1:0)},setLeft:function(p,q){i(p,q,"X")}}},m={position:{setTop:function(p,q){p.css("top",q)},setLeft:function(p,q){p.css("left",q)}},transform:{setTop:function(q,r,p){i(q,r-p,"Y")},setLeft:function(q,r,p){i(q,r-p,"X")}}},a=(function(){var r=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,p=n.getElementsByTagName("script")[0].style,q="",s;for(s in p){if(r.test(s)){q=s.match(r)[0];break}}if("WebkitOpacity" in p){q="Webkit"}if("KhtmlOpacity" in p){q="Khtml"}return function(t){return q+(q.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}()),c=n.createElement("div").style.backgroundPositionX!==d,b=(function(){return c?function(q,p,r){q.css({"background-position-x":p,"background-position-y":r})}:function(q,p,r){q.css("background-position",p+" "+r)}}()),j=(function(){return c?function(p){return[p[0].style.backgroundPositionX,p[0].style.backgroundPositionY]}:function(p){return p.css("background-position").split(" ")}}()),i=function(p,s,r){var q=getComputedStyle(p[0])[a("transform")];if(q==="none"){p[0].style[a("transform")]="translate"+r+"("+s+"px)"}else{p[0].style[a("transform")]=h(q,/(-?[0-9]+[.]?[0-9]*)/g,(r==="X"?5:6),s)}},h=function(q,t,v,p){var u,s,r;if(q.search(t)===-1){return q}u=q.split(t);r=v*2-1;if(u[r]===d){return q}u[r]=p;return u.join("")};function o(q,p){this.element=q;this.options=f.extend({},e,p);this._defaults=e;this._name=k;this.init()}o.prototype={init:function(){this.options.name=k+"_"+Math.floor(Math.random()*10000);this._defineElements();this._defineGetters();this._defineSetters();this._handleWindowLoadAndResize();this._detectViewport();this.refresh({firstLoad:true});this._startAnimationLoop()},_defineElements:function(){if(this.element===n.body){this.element=l}this.$scrollElement=f(this.element);this.$element=this.element===l?f("body"):this.$scrollElement;this.$viewportElement=(this.options.viewportElement!==d?f(this.options.viewportElement):(this.$scrollElement[0]===l||this.options.scrollProperty.indexOf("scroll")===0?this.$scrollElement:this.$scrollElement.parent()))},_defineGetters:function(){var p=this;this._getScrollLeft=function(){return g[p.options.scrollProperty].getLeft(p.$scrollElement)};this._getScrollTop=function(){return g[p.options.scrollProperty].getTop(p.$scrollElement)}},_defineSetters:function(){var p=this;this._setScrollLeft=function(q){g[p.options.scrollProperty].setLeft(p.$scrollElement,q)};this._setScrollTop=function(q){g[p.options.scrollProperty].setTop(p.$scrollElement,q)};this._setLeft=function(r,s,q){m[p.options.positionProperty].setLeft(r,s,q)};this._setTop=function(r,s,q){m[p.options.positionProperty].setTop(r,s,q)}},_handleWindowLoadAndResize:function(){var p=this,q=f(l);if(p.options.responsive){q.bind("load."+this.name,function(){p.refresh()})}q.bind("resize."+this.name,function(){p._detectViewport();if(p.options.responsive){p.refresh()}})},refresh:function(r){var q=this,s=q._getScrollLeft(),p=q._getScrollTop();this._setScrollLeft(0);this._setScrollTop(0);this._setOffsets();this._findParticles();this._findBackgrounds();if(r&&r.firstLoad&&/WebKit/.test(navigator.userAgent)){f(l).load(function(){var u=q._getScrollLeft(),t=q._getScrollTop();q._setScrollLeft(u+1);q._setScrollTop(t+1);q._setScrollLeft(u);q._setScrollTop(t)})}q._setScrollLeft(s);q._setScrollTop(p)},_detectViewport:function(){var q=this.$viewportElement.offset(),p=q!==null&&q!==d;this.viewportWidth=this.$viewportElement.width();this.viewportHeight=this.$viewportElement.height();this.viewportOffsetTop=p?q.top:0;this.viewportOffsetLeft=p?q.left:0},_findParticles:function(){var p=this,s=this._getScrollLeft(),r=this._getScrollTop();if(this.particles!==d){for(var q=this.particles.length-1;q>=0;q--){this.particles[q].$element.data("stellar-elementIsActive",d)}}this.particles=[];if(!this.options.parallaxElements){return}this.$element.find("[data-stellar-ratio]").each(function(A){var E=f(this),C,H,u,D,z,t,G,y,w,B=0,F=0,v=0,x=0;if(!E.data("stellar-elementIsActive")){E.data("stellar-elementIsActive",this)}else{if(E.data("stellar-elementIsActive")!==this){return}}p.options.showElement(E);if(!E.data("stellar-startingLeft")){E.data("stellar-startingLeft",E.css("left"));E.data("stellar-startingTop",E.css("top"))}else{E.css("left",E.data("stellar-startingLeft"));E.css("top",E.data("stellar-startingTop"))}u=E.position().left;D=E.position().top;z=(E.css("margin-left")==="auto")?0:parseInt(E.css("margin-left"),10);t=(E.css("margin-top")==="auto")?0:parseInt(E.css("margin-top"),10);y=E.offset().left-z;w=E.offset().top-t;E.parents().each(function(){var I=f(this);if(I.data("stellar-offset-parent")===true){B=v;F=x;G=I;return false}else{v+=I.position().left;x+=I.position().top}});C=(E.data("stellar-horizontal-offset")!==d?E.data("stellar-horizontal-offset"):(G!==d&&G.data("stellar-horizontal-offset")!==d?G.data("stellar-horizontal-offset"):p.horizontalOffset));H=(E.data("stellar-vertical-offset")!==d?E.data("stellar-vertical-offset"):(G!==d&&G.data("stellar-vertical-offset")!==d?G.data("stellar-vertical-offset"):p.verticalOffset));p.particles.push({$element:E,$offsetParent:G,isFixed:E.css("position")==="fixed",horizontalOffset:C,verticalOffset:H,startingPositionLeft:u,startingPositionTop:D,startingOffsetLeft:y,startingOffsetTop:w,parentOffsetLeft:B,parentOffsetTop:F,stellarRatio:E.data("stellar-ratio")!==d?E.data("stellar-ratio"):1,width:E.outerWidth(true),height:E.outerHeight(true),isHidden:false})})},_findBackgrounds:function(){var p=this,s=this._getScrollLeft(),r=this._getScrollTop(),q;this.backgrounds=[];if(!this.options.parallaxBackgrounds){return}q=this.$element.find("[data-stellar-background-ratio]");if(this.$element.is("[data-stellar-background-ratio]")){q.add(this.$element)}q.each(function(){var E=f(this),u=j(E),C,H,v,D,A,t,z,x,G,B=0,F=0,w=0,y=0;if(!E.data("stellar-backgroundIsActive")){E.data("stellar-backgroundIsActive",this)}else{if(E.data("stellar-backgroundIsActive")!==this){return}}if(!E.data("stellar-backgroundStartingLeft")){E.data("stellar-backgroundStartingLeft",u[0]);E.data("stellar-backgroundStartingTop",u[1])}else{b(E,E.data("stellar-backgroundStartingLeft"),E.data("stellar-backgroundStartingTop"))}A=(E.css("margin-left")==="auto")?0:parseInt(E.css("margin-left"),10);t=(E.css("margin-top")==="auto")?0:parseInt(E.css("margin-top"),10);z=E.offset().left-A-s;x=E.offset().top-t-r;E.parents().each(function(){var I=f(this);if(I.data("stellar-offset-parent")===true){B=w;F=y;G=I;return false}else{w+=I.position().left;y+=I.position().top}});C=(E.data("stellar-horizontal-offset")!==d?E.data("stellar-horizontal-offset"):(G!==d&&G.data("stellar-horizontal-offset")!==d?G.data("stellar-horizontal-offset"):p.horizontalOffset));H=(E.data("stellar-vertical-offset")!==d?E.data("stellar-vertical-offset"):(G!==d&&G.data("stellar-vertical-offset")!==d?G.data("stellar-vertical-offset"):p.verticalOffset));p.backgrounds.push({$element:E,$offsetParent:G,isFixed:E.css("background-attachment")==="fixed",horizontalOffset:C,verticalOffset:H,startingValueLeft:u[0],startingValueTop:u[1],startingBackgroundPositionLeft:isNaN(parseInt(u[0],10))?0:parseInt(u[0],10),startingBackgroundPositionTop:isNaN(parseInt(u[1],10))?0:parseInt(u[1],10),startingPositionLeft:E.position().left,startingPositionTop:E.position().top,startingOffsetLeft:z,startingOffsetTop:x,parentOffsetLeft:B,parentOffsetTop:F,stellarRatio:E.data("stellar-background-ratio")===d?1:E.data("stellar-background-ratio")})})},destroy:function(){var t,s,r,q,p;for(p=this.particles.length-1;p>=0;p--){t=this.particles[p];s=t.$element.data("stellar-startingLeft");r=t.$element.data("stellar-startingTop");this._setLeft(t.$element,s,s);this._setTop(t.$element,r,r);this.options.showElement(t.$element);t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null)}for(p=this.backgrounds.length-1;p>=0;p--){q=this.backgrounds[p];b(q.$element,q.startingValueLeft,q.startingValueTop)}this._animationLoop=f.noop;f(l).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var p=this,q=f(l);q.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name);if(typeof this.options.horizontalOffset==="function"){this.horizontalOffset=this.options.horizontalOffset();q.bind("resize.horizontal-"+this.name,function(){p.horizontalOffset=p.options.horizontalOffset()})}else{this.horizontalOffset=this.options.horizontalOffset}if(typeof this.options.verticalOffset==="function"){this.verticalOffset=this.options.verticalOffset();q.bind("resize.vertical-"+this.name,function(){p.verticalOffset=p.options.verticalOffset()})}else{this.verticalOffset=this.options.verticalOffset}},_repositionElements:function(){var v=this._getScrollLeft(),s=this._getScrollTop(),A,E,z,D,q,C,w,u=true,p=true,y,B,t,r,x;if(this.currentScrollLeft===v&&this.currentScrollTop===s&&this.currentWidth===this.viewportWidth&&this.currentHeight===this.viewportHeight){return}else{this.currentScrollLeft=v;this.currentScrollTop=s;this.currentWidth=this.viewportWidth;this.currentHeight=this.viewportHeight}for(x=this.particles.length-1;x>=0;x--){z=this.particles[x];D=z.isFixed?1:0;if(this.options.horizontalScrolling){y=(v+z.horizontalOffset+this.viewportOffsetLeft+z.startingPositionLeft-z.startingOffsetLeft+z.parentOffsetLeft)*-(z.stellarRatio+D-1)+z.startingPositionLeft;t=y-z.startingPositionLeft+z.startingOffsetLeft}if(this.options.verticalScrolling){B=(s+z.verticalOffset+this.viewportOffsetTop+z.startingPositionTop-z.startingOffsetTop+z.parentOffsetTop)*-(z.stellarRatio+D-1)+z.startingPositionTop;r=B-z.startingPositionTop+z.startingOffsetTop}if(this.options.hideDistantElements){p=!this.options.horizontalScrolling||t+z.width>(z.isFixed?0:v)&&t<(z.isFixed?0:v)+this.viewportWidth+this.viewportOffsetLeft;u=!this.options.verticalScrolling||r+z.height>(z.isFixed?0:s)&&r<(z.isFixed?0:s)+this.viewportHeight+this.viewportOffsetTop}if(p&&u){if(z.isHidden){this.options.showElement(z.$element);z.isHidden=false}if(this.options.horizontalScrolling){this._setLeft(z.$element,y,z.startingPositionLeft)}if(this.options.verticalScrolling){this._setTop(z.$element,B,z.startingPositionTop)}}else{if(!z.isHidden){this.options.hideElement(z.$element);z.isHidden=true}}}for(x=this.backgrounds.length-1;x>=0;x--){q=this.backgrounds[x];D=q.isFixed?0:1;C=this.options.horizontalScrolling?(v+q.horizontalOffset-this.viewportOffsetLeft-q.startingOffsetLeft+q.parentOffsetLeft-q.startingBackgroundPositionLeft)*(D-q.stellarRatio)+"px":q.startingValueLeft;w=this.options.verticalScrolling?(s+q.verticalOffset-this.viewportOffsetTop-q.startingOffsetTop+q.parentOffsetTop-q.startingBackgroundPositionTop)*(D-q.stellarRatio)+"px":q.startingValueTop;b(q.$element,C,w)}},_startAnimationLoop:function(){var p=this,q=(function(){return l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(s,r){l.setTimeout(s,1000/60)}}());this._animationLoop=function(){q(p._animationLoop);p._repositionElements()};this._animationLoop()}};f.fn[k]=function(q){var p=arguments;if(q===d||typeof q==="object"){return this.each(function(){if(!f.data(this,"plugin_"+k)){f.data(this,"plugin_"+k,new o(this,q))}})}else{if(typeof q==="string"&&q[0]!=="_"&&q!=="init"){return this.each(function(){var r=f.data(this,"plugin_"+k);if(r instanceof o&&typeof r[q]==="function"){r[q].apply(r,Array.prototype.slice.call(p,1))}if(q==="destroy"){f.data(this,"plugin_"+k,null)}})}}};f[k]=function(p){var q=f(l);return q.stellar.apply(q,Array.prototype.slice.call(arguments,0))};f[k].scrollProperty=g;f[k].positionProperty=m;l.Stellar=o}(jQuery,window,document));

 /*!
 * jQuery Form Plugin
 * version: 2.94 (13-DEC-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *  http://www.opensource.org/licenses/mit-license.php
 *  http://www.gnu.org/licenses/gpl.html
 */
;(function(b){b.fn.ajaxSubmit=function(d){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}var c,t,f,h=this;if(typeof d=="function"){d={success:d}}c=this.attr("method");t=this.attr("action");f=(typeof t==="string")?b.trim(t):"";f=f||window.location.href||"";if(f){f=(f.match(/^([^#]+)/)||[])[1]}d=b.extend(true,{url:f,success:b.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},d);var m={};this.trigger("form-pre-serialize",[this,d,m]);if(m.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(d.beforeSerialize&&d.beforeSerialize(this,d)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var g=d.traditional;if(g===undefined){g=b.ajaxSettings.traditional}var x,s,j,y=this.formToArray(d.semantic);if(d.data){d.extraData=d.data;x=b.param(d.data,g)}if(d.beforeSubmit&&d.beforeSubmit(y,this,d)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[y,this,d,m]);if(m.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var r=b.param(y,g);if(x){r=(r?(r+"&"+x):x)}if(d.type.toUpperCase()=="GET"){d.url+=(d.url.indexOf("?")>=0?"&":"?")+r;d.data=null}else{d.data=r}var A=[];if(d.resetForm){A.push(function(){h.resetForm()})}if(d.clearForm){A.push(function(){h.clearForm(d.includeHidden)})}if(!d.dataType&&d.target){var e=d.success||function(){};A.push(function(q){var n=d.replaceTarget?"replaceWith":"html";b(d.target)[n](q).each(e,arguments)})}else{if(d.success){A.push(d.success)}}d.success=function(C,q,D){var B=d.context||d;for(var v=0,n=A.length;v<n;v++){A[v].apply(B,[C,q,D||h,h])}};var w=b("input:file:enabled[value]",this);var i=w.length>0;var u="multipart/form-data";var p=(h.attr("enctype")==u||h.attr("encoding")==u);var o=!!(i&&w.get(0).files&&window.FormData);a("fileAPI :"+o);var k=(i||p)&&!o;if(d.iframe!==false&&(d.iframe||k)){if(d.closeKeepAlive){b.get(d.closeKeepAlive,function(){z(y)})}else{z(y)}}else{if((i||p)&&o){d.progress=d.progress||b.noop;l(y)}else{b.ajax(d)}}this.trigger("form-submit-notify",[this,d]);return this;function l(q){var n=new FormData();for(var B=0;B<q.length;B++){if(q[B].type=="file"){continue}n.append(q[B].name,q[B].value)}h.find("input:file:enabled").each(function(){var E=b(this).attr("name"),G=this.files;if(E){for(var F=0;F<G.length;F++){n.append(E,G[F])}}});if(d.extraData){for(var v in d.extraData){n.append(v,d.extraData[v])}}d.data=null;var D=b.extend(true,{},b.ajaxSettings,d,{contentType:false,processData:false,cache:false,type:"POST"});D.context=D.context||D;D.data=null;var C=D.beforeSend;D.beforeSend=function(F,E){E.data=n;if(F.upload){F.upload.onprogress=function(G){E.progress(G.position,G.total)}}if(C){C.call(E,F,d)}};b.ajax(D)}function z(Z){var E=h[0],D,V,P,X,S,G,K,I,J,T,W,N;var H=!!b.fn.prop;if(Z){if(H){for(V=0;V<Z.length;V++){D=b(E[Z[V].name]);D.prop("disabled",false)}}else{for(V=0;V<Z.length;V++){D=b(E[Z[V].name]);D.removeAttr("disabled")}}}if(b(":input[name=submit],:input[id=submit]",E).length){alert('Error: Form elements must not have name or id of "submit".');return}P=b.extend(true,{},b.ajaxSettings,d);P.context=P.context||P;S="jqFormIO"+(new Date().getTime());if(P.iframeTarget){G=b(P.iframeTarget);T=G.attr("name");if(T==null){G.attr("name",S)}else{S=T}}else{G=b('<iframe name="'+S+'" src="'+P.iframeSrc+'" />');G.css({position:"absolute",top:"-1000px",left:"-1000px"})}K=G[0];I={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(n){var ac=(n==="timeout"?"timeout":"aborted");a("aborting upload... "+ac);this.aborted=1;G.attr("src",P.iframeSrc);I.error=ac;P.error&&P.error.call(P.context,I,ac,n);X&&b.event.trigger("ajaxError",[I,P,ac]);P.complete&&P.complete.call(P.context,I,ac)}};X=P.global;if(X&&!b.active++){b.event.trigger("ajaxStart")}if(X){b.event.trigger("ajaxSend",[I,P])}if(P.beforeSend&&P.beforeSend.call(P.context,I,P)===false){if(P.global){b.active--}return}if(I.aborted){return}J=E.clk;if(J){T=J.name;if(T&&!J.disabled){P.extraData=P.extraData||{};P.extraData[T]=J.value;if(J.type=="image"){P.extraData[T+".x"]=E.clk_x;P.extraData[T+".y"]=E.clk_y}}}var O=1;var L=2;function M(ac){var n=ac.contentWindow?ac.contentWindow.document:ac.contentDocument?ac.contentDocument:ac.document;return n}var C=b("meta[name=csrf-token]").attr("content");var B=b("meta[name=csrf-param]").attr("content");if(B&&C){P.extraData=P.extraData||{};P.extraData[B]=C}function U(){var ae=h.attr("target"),ac=h.attr("action");E.setAttribute("target",S);if(!c){E.setAttribute("method","POST")}if(ac!=P.url){E.setAttribute("action",P.url)}if(!P.skipEncodingOverride&&(!c||/post/i.test(c))){h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(P.timeout){N=setTimeout(function(){W=true;R(O)},P.timeout)}function af(){try{var n=M(K).readyState;a("state = "+n);if(n.toLowerCase()=="uninitialized"){setTimeout(af,50)}}catch(ah){a("Server abort: ",ah," (",ah.name,")");R(L);N&&clearTimeout(N);N=undefined}}var ad=[];try{if(P.extraData){for(var ag in P.extraData){ad.push(b('<input type="hidden" name="'+ag+'">').attr("value",P.extraData[ag]).appendTo(E)[0])}}if(!P.iframeTarget){G.appendTo("body");K.attachEvent?K.attachEvent("onload",R):K.addEventListener("load",R,false)}setTimeout(af,15);E.submit()}finally{E.setAttribute("action",ac);if(ae){E.setAttribute("target",ae)}else{h.removeAttr("target")}b(ad).remove()}}if(P.forceSync){U()}else{setTimeout(U,10)}var aa,ab,Y=50,F;function R(ag){if(I.aborted||F){return}try{ab=M(K)}catch(aj){a("cannot access response document: ",aj);ag=L}if(ag===O&&I){I.abort("timeout");return}else{if(ag==L&&I){I.abort("server abort");return}}if(!ab||ab.location.href==P.iframeSrc){if(!W){return}}K.detachEvent?K.detachEvent("onload",R):K.removeEventListener("load",R,false);var ae="success",ai;try{if(W){throw"timeout"}var ad=P.dataType=="xml"||ab.XMLDocument||b.isXMLDoc(ab);a("isXml="+ad);if(!ad&&window.opera&&(ab.body==null||ab.body.innerHTML=="")){if(--Y){a("requeing onLoad callback, DOM not available");setTimeout(R,250);return}}var ak=ab.body?ab.body:ab.documentElement;I.responseText=ak?ak.innerHTML:null;I.responseXML=ab.XMLDocument?ab.XMLDocument:ab;if(ad){P.dataType="xml"}I.getResponseHeader=function(an){var am={"content-type":P.dataType};return am[an]};if(ak){I.status=Number(ak.getAttribute("status"))||I.status;I.statusText=ak.getAttribute("statusText")||I.statusText}var n=(P.dataType||"").toLowerCase();var ah=/(json|script|text)/.test(n);if(ah||P.textarea){var af=ab.getElementsByTagName("textarea")[0];if(af){I.responseText=af.value;I.status=Number(af.getAttribute("status"))||I.status;I.statusText=af.getAttribute("statusText")||I.statusText}else{if(ah){var ac=ab.getElementsByTagName("pre")[0];var al=ab.getElementsByTagName("body")[0];if(ac){I.responseText=ac.textContent?ac.textContent:ac.innerText}else{if(al){I.responseText=al.textContent?al.textContent:al.innerText}}}}}else{if(n=="xml"&&!I.responseXML&&I.responseText!=null){I.responseXML=Q(I.responseText)}}try{aa=q(I,n,P)}catch(ag){ae="parsererror";I.error=ai=(ag||ae)}}catch(ag){a("error caught: ",ag);ae="error";I.error=ai=(ag||ae)}if(I.aborted){a("upload aborted");ae=null}if(I.status){ae=(I.status>=200&&I.status<300||I.status===304)?"success":"error"}if(ae==="success"){P.success&&P.success.call(P.context,aa,"success",I);X&&b.event.trigger("ajaxSuccess",[I,P])}else{if(ae){if(ai==undefined){ai=I.statusText}P.error&&P.error.call(P.context,I,ae,ai);X&&b.event.trigger("ajaxError",[I,P,ai])}}X&&b.event.trigger("ajaxComplete",[I,P]);if(X&&!--b.active){b.event.trigger("ajaxStop")}P.complete&&P.complete.call(P.context,I,ae);F=true;if(P.timeout){clearTimeout(N)}setTimeout(function(){if(!P.iframeTarget){G.remove()}I.responseXML=null},100)}var Q=b.parseXML||function(n,ac){if(window.ActiveXObject){ac=new ActiveXObject("Microsoft.XMLDOM");ac.async="false";ac.loadXML(n)}else{ac=(new DOMParser()).parseFromString(n,"text/xml")}return(ac&&ac.documentElement&&ac.documentElement.nodeName!="parsererror")?ac:null};var v=b.parseJSON||function(n){return window["eval"]("("+n+")")};var q=function(ag,ae,ad){var ac=ag.getResponseHeader("content-type")||"",n=ae==="xml"||!ae&&ac.indexOf("xml")>=0,af=n?ag.responseXML:ag.responseText;if(n&&af.documentElement.nodeName==="parsererror"){b.error&&b.error("parsererror")}if(ad&&ad.dataFilter){af=ad.dataFilter(af,ae)}if(typeof af==="string"){if(ae==="json"||!ae&&ac.indexOf("json")>=0){af=v(af)}else{if(ae==="script"||!ae&&ac.indexOf("javascript")>=0){b.globalEval(af)}}}return af}}};b.fn.ajaxForm=function(c){if(this.length===0){var d={s:this.selector,c:this.context};if(!b.isReady&&d.s){a("DOM not ready, queuing ajaxForm");b(function(){b(d.s,d.c).ajaxForm(c)});return this}a("terminating; zero elements found by selector"+(b.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){if(!f.isDefaultPrevented()){f.preventDefault();b(this).ajaxSubmit(c)}}).bind("click.form-plugin",function(j){var i=j.target;var g=b(i);if(!(g.is(":submit,input:image"))){var f=g.closest(":submit");if(f.length==0){return}i=f[0]}var h=this;h.clk=i;if(i.type=="image"){if(j.offsetX!=undefined){h.clk_x=j.offsetX;h.clk_y=j.offsetY}else{if(typeof b.fn.offset=="function"){var k=g.offset();h.clk_x=j.pageX-k.left;h.clk_y=j.pageY-k.top}else{h.clk_x=j.pageX-i.offsetLeft;h.clk_y=j.pageY-i.offsetTop}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null},100)})};b.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};b.fn.formToArray=function(q){var p=[];if(this.length===0){return p}var d=this[0];var g=q?d.getElementsByTagName("*"):d.elements;if(!g){return p}var k,h,f,r,e,m,c;for(k=0,m=g.length;k<m;k++){e=g[k];f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val(),type:e.type});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(h=0,c=r.length;h<c;h++){p.push({name:f,value:r[h]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r,type:e.type})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0];f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(j===undefined){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return b(c).val()};b.fn.clearForm=function(c){return this.each(function(){b("input,select,textarea",this).clearFields(c)})};b.fn.clearFields=b.fn.clearInputs=function(c){var d=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var f=this.type,e=this.tagName.toLowerCase();if(d.test(f)||e=="textarea"||(c&&/hidden/.test(f))){this.value=""}else{if(f=="checkbox"||f=="radio"){this.checked=false}else{if(e=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};b.fn.ajaxSubmit.debug=false;function a(){if(!b.fn.ajaxSubmit.debug){return}var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}})(jQuery);

/*!=========================================================
* bootstrap-lightbox v0.4.1 - 11/20/2012
* http://jbutz.github.com/bootstrap-lightbox/
* HEAVILY based off bootstrap-modal.js
* ==========================================================
* Copyright (c) 2012 Jason Butz (http://jasonbutz.info)
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
* ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="lightbox"]',"click.dismiss.lightbox",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".lightbox-body").load(this.options.remote),this.cloneSize()};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.centerImage(),t.$element.focus().trigger("shown")}):function(){t.centerImage(),t.$element.focus().trigger("shown")}()})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.lightbox"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideLightbox()},enforceFocus:function(){var t=this;e(document).on("focusin.lightbox",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.lightbox",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.lightbox")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideLightbox()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideLightbox()})},hideLightbox:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()},centerImage:function(){var t=this,n=0,r;t.h=t.$element.height(),t.w=t.$element.width();if(t.options.resizeToFit){n=10,r=t.$element.find(".lightbox-content").find("img:first"),r.data("osizew")||r.data("osizew",r.width()),r.data("osizeh")||r.data("osizeh",r.height());var i=r.data("osizew"),s=r.data("osizeh");r.css("max-width","none"),r.css("max-height","none");var o=40;t.$element.find(".lightbox-header").length>0&&(o+=10),r.css("max-width",e(window).width()-o),r.css("max-height",e(window).height()-o),t.w=r.width(),t.h=r.height()}t.$element.css({position:"fixed",left:e(window).width()/2-t.w/2,top:e(window).height()/2-t.h/2-n}),t.enforceFocus()},cloneSize:function(){var t=this;t.$clone=t.$element.filter(":first").clone().css({position:"absolute",top:-2e3,display:"block",visibility:"visible",opacity:100}).removeClass("fade").appendTo("body"),t.h=t.$clone.height(),t.w=t.$clone.width(),t.$clone.remove(),t.$element.css({position:"fixed",left:e(window).width()/2-t.w/2,top:e(window).height()/2-t.h/2})}},e.fn.lightbox=function(n){return this.each(function(){var r=e(this),i=r.data("lightbox"),s=e.extend({},e.fn.lightbox.defaults,r.data(),typeof n=="object"&&n);i||r.data("lightbox",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.lightbox.defaults={backdrop:!0,keyboard:!0,show:!0,resizeToFit:!0},e.fn.lightbox.Constructor=t,e(document).on("click.lightbox.data-api",'[data-toggle="lightbox"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("lightbox")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data()),o=n.attr("data-image")||!1,u;t.preventDefault(),o&&(i.data("original-content",i.find(".lightbox-content").html()),i.find(".lightbox-content").html('<img border="0" src="'+o+'" />')),i.lightbox(s).one("hide",function(){n.focus()}).one("hidden",function(){o&&(i.find(".lightbox-content").html(i.data("original-content")),o=undefined)})})}(window.jQuery);

/*! retina.js, a high-resolution image swapper (http://retinajs.com), v0.0.2 */
;(function(){function t(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var e=typeof exports=="undefined"?window:exports;e.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external())return e(!1);if(this.at_2x_path in t.confirmed_paths)return e(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),e(!0)):e(!1)},n.send()},e.RetinaImage=n,n.prototype.swap=function(e){function n(){t.el.complete?(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",e)):setTimeout(n,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var t=this;n()},e.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})();

/*! Main script file */

function showRequest(formData, jqForm, options) {
  var queryString = $.param(formData);
  return true;
}

function showResponse(responseText, statusText) {}

$.fn.clearForm = function() {
  return this.each(function() {
  var type = this.type, tag = this.tagName.toLowerCase();
  if (tag == 'form')
    return $(':input',this).clearForm();
  if (type == 'text' || type == 'password' || tag == 'textarea')
    this.value = '';
  else if (type == 'checkbox' || type == 'radio')
    this.checked = false;
  else if (tag == 'select')
    this.selectedIndex = -1;
  });
};

//make section height of window
var $introElement = $("#intro"),
    $introHeight = $(window).height();

$introElement.css({ 'height': $introHeight + 'px' });
$(window).resize(function() {
  $introElement.css({ 'height': $introHeight + 'px' });
});
  
//activate when document is ready
$(document).ready(function() {

  //custom scrollbar
  $("html").niceScroll();

  //smooth scroll
  $('#more a, .nav a, .nav li a, .brand, #footer li a').bind('click', function(event) {
    var $anchor = $(this);
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this).scrollspy('refresh')
    });
    $('html, body').stop().animate({ scrollTop: $($anchor.attr('href')).offset().top -61 }, 1500,'easeInOutExpo');
    event.preventDefault();
  });

  //collapse menu on click on mobile and tablet devices
  $('.nav a').click(function () { $(".nav-collapse").collapse("hide") });

  //intro slider
  $('#carousel_fade_intro').carousel({
    interval: 2500,
    pause: "true"
  });

  //works sliders
  $('#carousel_horizontal_slide, #carousel_vertical_slide, #carousel_fade ,#carousel_fade_1, #carousel_fade_2, #carousel_fade_3, #carousel_fade_4, #carousel_fade_5, #carousel_fade_6, #carousel_fade_7, #carousel_fade_8').carousel({
    interval: false
  });

  //gallery image hover tooltip
  $("[data-thumb=tooltip]").tooltip();

  //contact form
  $('#contactForm').ajaxForm({
    target: '.alert',
    beforeSubmit: showRequest,
    success: showResponse
  });
});

//activate when window is loaded
$(window).load(function() {

  //activate lazyloader
  $(".lazyload").lazyload({
    duration: 1000
  });

  //preloader
  $("#status").fadeOut();
  $("#preloader").delay(350).fadeOut("slow");

  //activate here instad of onLoad attribute:
  //  <body data-spy="scroll" data-target=".navbar" data-offset='64' onLoad="$.stellar();">
  //and run on page scroll to temporarily avoid issues with lazyload-plugin
  $(window).scroll(function() {
    $.stellar();
  });
});
